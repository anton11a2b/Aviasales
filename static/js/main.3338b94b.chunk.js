(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{11:function(t,e,c){t.exports={filter:"filter_filter__27_4F",filter__title:"filter_filter__title__3rhst",filter__input:"filter_filter__input__OUqw7"}},16:function(t,e,c){t.exports={filters:"filters_filters__lWz7u",filters__title:"filters_filters__title__1yb8r"}},17:function(t,e,c){t.exports={tab:"tab_tab__3AMkx","tab--active":"tab_tab--active__2hOsl"}},18:function(t,e,c){t.exports={tabs:"tabs_tabs__2KcJi"}},20:function(t,e,c){t.exports={showMore:"showMore_showMore__2OBcj"}},34:function(t,e,c){"use strict";c.r(e);var i=c(1),a=c.n(i),n=c(9),s=c.n(n),r=c(6),l=c(17),o=c.n(l),_=c(0),j=function(t){var e=t.title;return Object(_.jsx)("button",{className:o.a.tab,type:"button",children:e})};j.defaultProps={title:""};var d=j,p=c(18),u=c.n(p),b=function(){var t=Object(r.c)((function(t){return t.tabs}));return Object(_.jsx)("div",{className:u.a.tabs,children:t.map((function(t){return Object(_.jsx)(d,{id:t.id,title:t.title,active:t.active},t.id)}))})},f=c(15),h=c.n(f),O=c(19),k="CHECKED",m="GET_TICKETS",x=c(11),v=c.n(x),g=function(t){var e=t.title,c=t.filter,i=Object(r.b)();return Object(_.jsxs)("div",{className:v.a.filter,children:[Object(_.jsx)("input",{checked:c.checked,onChange:function(){i({type:k,payload:c})},className:v.a.filter__input,type:"checkbox",name:e,id:e}),Object(_.jsx)("label",{className:v.a.filter__title,htmlFor:e,children:e})]})};g.defaultProps={title:"",filter:{}};var N=g,y=c(16),w=c.n(y),M=function(){var t=Object(r.c)((function(t){return t.filters}));return Object(_.jsxs)("aside",{className:w.a.filters,children:[Object(_.jsx)("h2",{className:w.a.filters__title,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),t.map((function(t){return Object(_.jsx)(N,{id:t.id,title:t.title,filter:t},t.id)}))]})},S=c(39),D=c(38),E=c(37),T=c(40),C=c(5),I=c.n(C),z=function(t){var e=t.date,c=t.stops,i=t.price,a=t.carrier,n=t.backDate,s=t.duration,r=t.backStops,l=t.departure,o=t.destination,j=t.backDuration;function d(t){var e=Math.trunc(t/60),c=t%60;return 0===c?"".concat(e," \u0447."):"".concat(e," \u0447. ").concat(c," \u043c\u0438\u043d.")}function p(t){return t.length>0?t.join(", "):null}function u(t){switch(t.length){case 0:return"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a";case 1:return"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430";case 2:return"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438";case 3:return"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438";default:return null}}function b(t){return Object(D.a)(Object(E.a)(t),"hh:mm")}function f(t,e){return Object(D.a)(Object(T.a)(Object(E.a)(t),{hours:Math.trunc(e/60),minutes:e%60}),"hh:mm")}return Object(_.jsxs)("div",{className:I.a.ticket,children:[Object(_.jsxs)("div",{className:I.a.ticket__header,children:[Object(_.jsxs)("p",{className:I.a.ticket__price,children:[function(t){var e=String(t).split("").slice(0,2).join("");return"".concat(e," ").concat(String(t).split("").slice(2).join(""))}(i)," \u20bd "]}),Object(_.jsx)("img",{src:"//pics.avs.io/99/36/".concat(a,".png"),alt:"Airline logo"})]}),Object(_.jsxs)("div",{className:I.a.ticket__info,children:[Object(_.jsxs)("div",{children:[Object(_.jsxs)("p",{className:I.a["ticket__title-info"],children:[l," \u2014 ",o]}),Object(_.jsxs)("p",{className:I.a["ticket__main-info"],children:[b(e),"\u2013",f(e,s)]})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:I.a["ticket__title-info"],children:"\u0412 \u043f\u0443\u0442\u0438"}),Object(_.jsx)("p",{className:I.a["ticket__main-info"],children:d(s)})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:I.a["ticket__title-info"],children:u(c)}),Object(_.jsx)("p",{className:I.a["ticket__main-info"],children:p(c)})]})]}),Object(_.jsxs)("div",{className:I.a.ticket__info,children:[Object(_.jsxs)("div",{children:[Object(_.jsxs)("p",{className:I.a["ticket__title-info"],children:[o," \u2014 ",l]}),Object(_.jsxs)("p",{className:I.a["ticket__main-info"],children:[b(n),"\u2013",f(n,j)]})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:I.a["ticket__title-info"],children:"\u0412 \u043f\u0443\u0442\u0438"}),Object(_.jsx)("p",{className:I.a["ticket__main-info"],children:d(j)})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:I.a["ticket__title-info"],children:u(r)}),Object(_.jsx)("p",{className:I.a["ticket__main-info"],children:p(r)})]})]})]})};z.defaultProps={price:0,duration:0,backDuration:0,stops:[],backStops:[],date:"",carrier:"",backDate:"",departure:"",destination:""};var B=z,F=function(){var t=Object(r.b)(),e=Object(r.c)((function(t){return t.tickets}));return Object(i.useEffect)((function(){t(function(){var t=Object(O.a)(h.a.mark((function t(e){var c,i,a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://front-test.beta.aviasales.ru/search");case 3:if(!(c=t.sent).ok){t.next=15;break}return t.next=7,c.json();case 7:return i=t.sent,t.next=10,fetch("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(i.searchId));case 10:return a=t.sent,t.next=13,a.json();case 13:n=t.sent,a.ok&&e({type:m,payload:n.tickets});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(_.jsx)("section",{children:e.slice(0,5).map((function(t){return Object(_.jsx)(B,{price:t.price,carrier:t.carrier,date:t.segments[0].date,stops:t.segments[0].stops,backDate:t.segments[1].date,backStops:t.segments[1].stops,departure:t.segments[0].origin,duration:t.segments[0].duration,backDuration:t.segments[1].duration,destination:t.segments[0].destination},Object(S.a)())}))})},J=c(20),K=c.n(J),P=function(){return Object(_.jsx)("button",{className:K.a.showMore,type:"button",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451 5 \u0431\u0438\u043b\u0435\u0442\u043e\u0432!"})},W=c.p+"static/media/logo.ae0b194c.png",A=c(8),H=c.n(A),U=function(){return Object(_.jsxs)("div",{className:H.a.app,children:[Object(_.jsx)("img",{className:H.a.app__logo,src:W,alt:"logo"}),Object(_.jsxs)("div",{className:H.a.app__content,children:[Object(_.jsx)(M,{}),Object(_.jsxs)("main",{className:H.a.app__main,children:[Object(_.jsx)(b,{}),Object(_.jsx)(F,{}),Object(_.jsx)(P,{})]})]})]})},q=c(21),G=c(10),R=c(22),Z=c(23),L=c(7),Q={filters:[{id:1,title:"\u0412\u0441\u0435",checked:!1},{id:2,title:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",checked:!1},{id:3,title:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",checked:!1},{id:4,title:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checked:!1},{id:5,title:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checked:!1}],tabs:[{id:1,title:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0451\u0432\u044b\u0439",active:!0},{id:2,title:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439",active:!1},{id:3,title:"\u041e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439",active:!1}],tickets:[]},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return Object(L.a)(Object(L.a)({},t),{},{tickets:Object(Z.a)(e.payload)});case k:if(1===e.payload.id)return Object(L.a)(Object(L.a)({},t),{},{filters:t.filters.map((function(t){return Object(L.a)(Object(L.a)({},t),{},{checked:!e.payload.checked})}))});var c=Object(L.a)(Object(L.a)({},t),{},{filters:t.filters.map((function(t){return e.payload.id===t.id?Object(L.a)(Object(L.a)({},t),{},{checked:!t.checked}):t}))});return c.filters[0].checked=c.filters.slice(1).every((function(t){return t.checked})),c;default:return t}},X=Object(G.createStore)(V,Object(R.composeWithDevTools)(Object(G.applyMiddleware)(q.a)));s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(r.a,{store:X,children:Object(_.jsx)(U,{})})}),document.getElementById("root"))},5:function(t,e,c){t.exports={ticket:"ticket_ticket__2BcHv",ticket__header:"ticket_ticket__header__26URT",ticket__info:"ticket_ticket__info__3az38",ticket__price:"ticket_ticket__price__3CgdM","ticket__title-info":"ticket_ticket__title-info__jo4hh","ticket__main-info":"ticket_ticket__main-info__3_ZWz"}},8:function(t,e,c){t.exports={app:"app_app__1pbwi",app__logo:"app_app__logo__1S9Im",app__content:"app_app__content__2uF4o",app__main:"app_app__main__274Ts"}}},[[34,1,2]]]);
//# sourceMappingURL=main.3338b94b.chunk.js.map